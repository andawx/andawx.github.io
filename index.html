<!DOCTYPE html>
<html>
<head>
<title>My Awesome Ice Cream Game</title>
<style>
  body { font-family: sans-serif; display: flex; justify-content: center; align-items: center; min-height: 100vh; background-color: #f0f0f0; margin: 0; }
  #game-container { background-color: #fff; border: 1px solid #ccc; padding: 20px; border-radius: 8px; text-align: center; }
  #ice-cream-area { position: relative; width: 200px; height: 300px; border: 1px dashed #aaa; margin: 20px auto; }
  .scoop { width: 80px; height: 80px; border-radius: 50%; position: absolute; cursor: grab; }
  .flavor-button { padding: 10px 20px; margin: 5px; cursor: pointer; border: none; border-radius: 5px; font-weight: bold; }
  #score { margin-top: 20px; font-size: 1.2em; }
  #message { margin-top: 10px; font-style: italic; color: #777; }
</style>
</head>
<body>
  <div id="game-container">
    <h1>Build Your Dream Ice Cream!</h1>

    <div id="ice-cream-area">
      </div>

    <div>
      <h2>Add a Scoop:</h2>
      <button class="flavor-button" style="background-color: lightpink;" onclick="addScoop('lightpink')">Strawberry</button>
      <button class="flavor-button" style="background-color: lightblue;" onclick="addScoop('lightblue')">Blue Raspberry</button>
      <button class="flavor-button" style="background-color: lightyellow;" onclick="addScoop('lightyellow')">Vanilla</button>
      <button class="flavor-button" style="background-color: lightgreen;" onclick="addScoop('lightgreen')">Mint</button>
      </div>

    <div id="score">Scoops: 0</div>
    <div id="message">Drag and stack your scoops!</div>
  </div>

  <script>
    const iceCreamArea = document.getElementById('ice-cream-area');
    const scoreDisplay = document.getElementById('score');
    let scoopCount = 0;
    let nextScoopPosition = 0; // To help stack scoops

    function addScoop(color) {
      const scoop = document.createElement('div');
      scoop.classList.add('scoop');
      scoop.style.backgroundColor = color;
      scoop.style.left = '50%';
      scoop.style.transform = 'translateX(-50%)';
      scoop.style.top = `${250 - (nextScoopPosition * 60)}px`; // Stack them
      scoop.draggable = true;

      scoop.addEventListener('dragstart', (event) => {
        event.dataTransfer.setData('text/plain', event.target.style.backgroundColor);
      });

      iceCreamArea.appendChild(scoop);
      scoopCount++;
      nextScoopPosition++;
      scoreDisplay.textContent = `Scoops: ${scoopCount}`;
    }

    // Optional: Add drag and drop functionality to rearrange scoops
    iceCreamArea.addEventListener('dragover', (event) => {
      event.preventDefault();
    });

    iceCreamArea.addEventListener('drop', (event) => {
      const color = event.dataTransfer.getData('text/plain');
      const existingScoop = Array.from(iceCreamArea.children).find(child => child.style.backgroundColor === color && !child.isDragging);

      if (existingScoop) {
        existingScoop.style.left = `${event.offsetX - 40}px`;
        existingScoop.style.top = `${event.offsetY - 40}px`;
      }
    });

    // Simple drag behavior (making scoops draggable)
    iceCreamArea.addEventListener('mousedown', (event) => {
      if (event.target.classList.contains('scoop')) {
        event.target.isDragging = true;
        event.target.style.cursor = 'grabbing';
        event.offsetXStart = event.clientX - event.target.getBoundingClientRect().left;
        event.offsetYStart = event.clientY - event.target.getBoundingClientRect().top;
      }
    });

    document.addEventListener('mousemove', (event) => {
      const draggingScoop = Array.from(iceCreamArea.children).find(child => child.isDragging);
      if (draggingScoop) {
        draggingScoop.style.left = `${event.clientX - iceCreamArea.getBoundingClientRect().left - draggingScoop.offsetXStart}px`;
        draggingScoop.style.top = `${event.clientY - iceCreamArea.getBoundingClientRect().top - draggingScoop.offsetYStart}px`;
      }
    });
    document.addEventListener('mouseup', () => {
      const draggingScoop = Array.from(iceCreamArea.children).find(child => child.isDragging);
      if (draggingScoop) {
        draggingScoop.isDragging = false;
        draggingScoop.style.cursor = 'grab';
      }
    });
  </script>
</body>
</html>